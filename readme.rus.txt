              Text Navigate version 0.3

Плагин для упрощения навигации по тексту во встроенном редакторе
файлового менеджера FAR (C) 1996-2000 Eugene Roshal,
Copyright (C) 2000-2005 FAR Group

This software uses regexp library by Cail Lomecb
<ruiv@uic.nnov.ru>, http://www.uic.nnov.ru/~ruiv/

Плагин работает под FAR версии 1.70b5 и выше.

1. Назначение плагина

Этот плагин добавляет некоторые удобные способы навигации по тексту.

    В текущей версии реализовано:

 -  Работа с закладками (подсмотрено в MS Visual C++ 2003 IDE):

    Ctrl-K, Ctrl-K   Запомнить текущую позицию редактора
    Ctrl-K, Ctrl-N   Перейти на следующую закладку
    Ctrl-K, Ctrl-P   Перейти на предыдущую закладку
    Ctrl-K, Ctrl-L   Удалить информацию о закладках

    В настройках плагина есть опция "Cохранять информацию
    о закладках". Если опция выбрана, данные о закладках 
    сохраняются в реестре.
    Стандартные FAR-овские метки (RCtrl-[0..9]) также сохраняются в
    списке закладок.

    Отдельно от списка обычных закладок существует стек закладок
    (подсмотрено в скрипте Flubber by Alexander E. Gutman).
    Работа со стеком:

    Ctrl-K, Ctrl-U   (PUSH) Положить закладку в стек
    Ctrl-K, Ctrl-O   (POP) Вытащить закладку из стека

 -  Быстрый поиск (подсмотрено в MS Visual C++ 2003 IDE):

    Ctrl-I           Перейти в режим быстрого поиска. 
                     Набираемый текст ищется начиная от 
                     текущей позиции.

    В режиме быстрого поиска обрабатываются клавиши:
      
      Backspace - удалить последний символ из подстроки
      Left|Up - перейти на предыдущую подходящую подстроку
      Right|Down - перейти на следующую подходящую подстроку

 -  Переход к предыдущему/следующему вхождению слова под 
    курсором (подсмотрено в эксперте GExperts 1.2 для Delphi/C++ Builder).

    Ctrl-Alt-Down    Найти следующее вхождению слова
    Ctrl-Alt-Up      Найти предыдущее вхождение слова

    В настройках плагина можно изменить следующие параметры 
    поиска: регистронезависимый поиск, циклический поиск 
    (при достижении конца текста поиск продолжается с начала 
    и наоборот), поиск выделенного текста, дополнительные 
    символы слов.

 -  Поиск и открытие файла под курсором (подсмотрено в Delphi 6 IDE)

    Ctrl-Enter       Открыть файл под курсором
                     Файл сначала ищется в текущей папке, затем 
                     в каталогах поиска. 
                     Каталоги поиска выбираются в зависимости от типа 
                     редактируемого файла. 
                     Тип файла определяется по расширению.

 -  Для pas-файлов: переход от описания метода или глобальной 
    процедуры к его реализации и обратно (подсмотрено в Delphi 6 IDE)

    Ctrl-Shift-Down  Перейти от описания к реализации метода 
                     или глобальной процедуры
    Ctrl-Shift-Up    Перейти от реализации метода или глобальной процедуры 
                     к описанию


2. Инсталляция

Создайте каталог "\Far\Plugins\TextNavigate" или любой
другой в каталоге плагинов, скопируйте в него содержимое дистрибутива
и перезапустите FAR.

3. Файл настроек

    В  файле  настроек плагина (TextNavigate.xml) допустимы 
следующие типы описаний: описание языка (Language), специальных переменных
(SpecVars) и каталогов поиска (SearchPaths)
    Все описания должны быть заключены в блок <TextNavigate> ... </TextNavigate>.
Все описания имеют похожий синтаксис, подобный синтаксису XML:

    <Tag [subtag1=value1] [subtag2=value2] ... [subtagN=valueN]>
      ...
    </Tag>

Часть субтэгов не обязательна.

    
Описание тегов:


    <Include file=""/>

       Включение дополнительного файла настройки.
       Субтег File содержит имя подключаемого файла. 
       При указании относительного пути текущей папкой 
       считается каталог плагина.

       Пример:
   
       <include file="xml\c.xml"/>


    <SpecVars...> ... </SpecVars>

       Содержит теги следующего типа: 
       
       <Var Name="ИмяПеременной" Value="Каталог"/>

       Предназначен для описания специальных переменных.
       Эти переменные можно использовать в именах каталогов поиска.
       Синтаксис: $(ИмяПеременной).
       Переменная может содержать другие ранее 
       определенные переменные.
      
       Пример:

       <SpecVars>
          <Var Name="BORLAND" Value="C:\Program Files\Borland"/>
          <Var Name="DELPHI" Value="$(BORLAND)\Delphi6"/>
       </SpecVars>


    <SearchPaths Value="..."/>

       Список каталогов, в которых ищутся файлы (по нажатию Ctrl-Enter).
       Может содержать системные переменные, например %INCLUDE%.
       Каталоги разделяются точкой с запятой. Если каталог заканчивается 
       символами "\...", то файлы ищутся в данном каталоге и во всех 
       вложенных подкаталогах.
       
       Пример:

       <SearchPaths Value="%INCLUDE%;$(DELPHI)\Source\..."/>


    <Language ...> ... </Language>

       Этот тэг начинает описание настроек для конкретный язык
       программирования.

       Допустимы следующие субтэги:

       FileExts         - расширения файлов.
       ExcludedFileExts - при поиске файлов не включать файлы с этими 
                          расширениями в результат поиска.
       Desc             - Описание языка. Не используется.
       SourceFiles,     - Расширения файлов-исходников программы. 
       Headers            Используется для выбора типа открываемого 
                          файла в команде "Открыть исходник/заголовочный
                          файл"

      Пример:

      <Language name="cpp" FileExts="*.cpp,*.c,*.h,*.hpp" 
                           ExcludedFileExts="*.~*" 
                           SourceFiles="*.c*" 
                           Headers="*.h*" 
                           Desc="C/C++ files">
                  
     
  <Class...> .... </Class>

       Описание класса. Субтеги:

       Name             - шаблон имени класса
       Definition       - шаблон описания класса
       End              - шаблон окончания описания класса

         
  <Method.../>
  
       Описание метода класса или глобальной процедуры/функции. 
       Субтеги:
                         
       Name             - шаблон имени метода
       Type             - шаблон типа метода
       Definition       - шаблон описания метода
       Implementation   - шаблон реализации метода

       Если тег <Method> находится внутри тега <Class>, он
       описывает метод класса. Если он находится внутри тега 
       <Language>, он описывает глобальную процедуру/функцию.
       

4. Благодарности

    Евгению Рошалу, 2:5010/45.7     - за Far Manager

    Игорю Русских, ruiv@uic.nnov.ru - за библиотеку регэкспов, xml-парсер 
                                      и плагин Colorer

    Авторам плагина EditCompletion  - за исходные тексты

    hoopoepg@gmail.com              - за исходные тексты плагина Conman

    Alexander E. Gutman             - за скрипт Flubber
    gutman@math.nsc.ru

    Volodimir V. Flyonts, fw@ua.fm  - за исходные тексты плагина f_open


Michael Lukashov
ice_scream@pochtamt.ru
